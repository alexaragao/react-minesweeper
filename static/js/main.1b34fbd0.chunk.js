(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],{21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),c=n.n(l),i=(n(26),n(9)),o=n(1),u=n(7),s=n(19),m=n(5);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 30C23.2843 30 30 23.2843 30 15C30 6.7157 23.2843 0 15 0C6.7157 0 0 6.7157 0 15C0 23.2843 6.7157 30 15 30ZM15 26C21.0751 26 26 21.0751 26 15C26 8.92487 21.0751 4 15 4C8.92487 4 4 8.92487 4 15C4 21.0751 8.92487 26 15 26Z"}),p=r.a.createElement("path",{d:"M14 16L8 10L9.5 8.5L15 14H22V16H14Z"}),v=function(e){var t=e.svgRef,n=e.title,a=h(e,["svgRef","title"]);return r.a.createElement("svg",f({width:30,height:30,viewBox:"0 0 30 30",ref:t},a),n?r.a.createElement("title",null,n):null,d,p)},g=r.a.forwardRef((function(e,t){return r.a.createElement(v,f({svgRef:t},e))}));n.p;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=r.a.createElement("rect",{x:4,width:4,height:32}),C=r.a.createElement("path",{d:"M27.5 11L6.5 2V19.5L27.5 11Z"}),O=function(e){var t=e.svgRef,n=e.title,a=b(e,["svgRef","title"]);return r.a.createElement("svg",E({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),n?r.a.createElement("title",null,n):null,w,C)},y=r.a.forwardRef((function(e,t){return r.a.createElement(O,E({svgRef:t},e))}));n.p,n(27);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0002 0C14.8956 0 14.0002 0.895431 14.0002 2V5.18146C11.7712 5.59098 9.77741 6.67237 8.23641 8.2079L4.87631 6.26795C3.91973 5.71566 2.69655 6.04341 2.14426 7C1.59198 7.95658 1.91973 9.17976 2.87631 9.73205L5.95575 11.51C5.34196 12.881 5.00063 14.4006 5.00063 16C5.00063 16.9782 5.12832 17.9266 5.36793 18.8294L2.87631 20.2679C1.91972 20.8202 1.59198 22.0434 2.14426 23C2.69654 23.9566 3.91972 24.2843 4.87631 23.732L7.09141 22.4532C8.71779 24.6946 11.1694 26.2984 14.0002 26.8185V30C14.0002 31.1046 14.8956 32 16.0002 32C17.1047 32 18.0002 31.1046 18.0002 30V26.8187C20.8314 26.2988 23.2833 24.6949 24.9099 22.4531L27.125 23.732C28.0816 24.2843 29.3048 23.9566 29.8571 23C30.4094 22.0434 30.0816 20.8202 29.125 20.2679L26.6333 18.8294C26.8729 17.9266 27.0006 16.9782 27.0006 16C27.0006 14.4007 26.6593 12.881 26.0455 11.51L29.125 9.73205C30.0816 9.17976 30.4094 7.95658 29.8571 7C29.3048 6.04341 28.0816 5.71566 27.125 6.26795L23.7649 8.20793C22.2237 6.67217 20.2295 5.59068 18.0002 5.18129V2C18.0002 0.895431 17.1047 0 16.0002 0Z"}),S=function(e){var t=e.svgRef,n=e.title,a=N(e,["svgRef","title"]);return r.a.createElement("svg",j({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),n?r.a.createElement("title",null,n):null,x)},P=r.a.forwardRef((function(e,t){return r.a.createElement(S,j({svgRef:t},e))}));n.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var k=r.a.createElement("rect",{x:4,width:4,height:32}),M=r.a.createElement("path",{d:"M27.5 11L6.5 2V19.5L27.5 11Z"}),B=r.a.createElement("path",{d:"M23.3887 26.6348C23.3887 25.7233 23.4993 24.9974 23.7207 24.457C23.9421 23.9167 24.3457 23.3861 24.9316 22.8652C25.5241 22.3379 25.918 21.9115 26.1133 21.5859C26.3086 21.2539 26.4062 20.9056 26.4062 20.541C26.4062 19.4408 25.8984 18.8906 24.8828 18.8906C24.401 18.8906 24.0137 19.0404 23.7207 19.3398C23.4342 19.6328 23.2845 20.0397 23.2715 20.5605H20.4395C20.4525 19.3171 20.8529 18.3438 21.6406 17.6406C22.4349 16.9375 23.5156 16.5859 24.8828 16.5859C26.263 16.5859 27.334 16.9212 28.0957 17.5918C28.8574 18.2559 29.2383 19.1966 29.2383 20.4141C29.2383 20.9674 29.1146 21.4915 28.8672 21.9863C28.6198 22.4746 28.1868 23.0182 27.5684 23.6172L26.7773 24.3691C26.2826 24.8444 25.9993 25.401 25.9277 26.0391L25.8887 26.6348H23.3887ZM23.1055 29.6328C23.1055 29.1966 23.252 28.8385 23.5449 28.5586C23.8444 28.2721 24.2253 28.1289 24.6875 28.1289C25.1497 28.1289 25.5273 28.2721 25.8203 28.5586C26.1198 28.8385 26.2695 29.1966 26.2695 29.6328C26.2695 30.0625 26.123 30.4173 25.8301 30.6973C25.5436 30.9772 25.1628 31.1172 24.6875 31.1172C24.2122 31.1172 23.8281 30.9772 23.5352 30.6973C23.2487 30.4173 23.1055 30.0625 23.1055 29.6328Z"}),A=function(e){var t=e.svgRef,n=e.title,a=R(e,["svgRef","title"]);return r.a.createElement("svg",L({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),n?r.a.createElement("title",null,n):null,k,M,B)},T=r.a.forwardRef((function(e,t){return r.a.createElement(A,L({svgRef:t},e))})),I=(n.p,function(e){e.index;var t=e.style,n=e.gameState,a=e.setIsFlagLimit,l=e.changeFlags,c=e.isPressed,i=e.isBomb,o=e.value,u=e.onClick,s=r.a.useState(!1),f=Object(m.a)(s,2),h=f[0],d=f[1],p=r.a.useState(!1),v=Object(m.a)(p,2),g=v[0],E=v[1];r.a.useEffect((function(){0===n&&(d(!1),E(!1))}),[n]);return c?r.a.createElement("div",{className:"slot",style:t},r.a.createElement("div",{className:"slot-content selected"},i&&r.a.createElement(P,{className:"slot-icon exploded"}),o>0&&r.a.createElement("span",null,o))):r.a.createElement("div",{className:"slot",style:t,onClick:function(){h||u()},onAuxClick:function(e){e.preventDefault(),n<3&&(h||g?h?(d(!1),l(-1),E(!0)):g&&E(!1):a?E(!0):(d(!0),l(1)))}},r.a.createElement("div",{className:n>=4?"slot-content reveal":"slot-content"},h&&r.a.createElement(y,{className:"slot-icon"}),n<3&&g&&r.a.createElement(T,{className:"slot-icon"}),n>=3&&i&&!h&&r.a.createElement(P,{className:"slot-icon"})))});I.defaultProps={isBomb:!1};var Z=I,V=0,H=1,D=2,F=3,U=4,J=function(e){var t=Object(o.g)(),n=r.a.useState(null),a=Object(m.a)(n,2),l=a[0],c=a[1],i=r.a.useState(0),f=Object(m.a)(i,2),h=f[0],d=f[1],p=r.a.useState(null),v=Object(m.a)(p,2),E=v[0],b=v[1],w=r.a.useState(V),C=Object(m.a)(w,2),O=C[0],j=C[1],N=r.a.useState(0),x=Object(m.a)(N,2),S=x[0],P=x[1],L=r.a.useState(null),R=Object(m.a)(L,2),k=R[0],M=R[1];r.a.useState((function(){var t,n=new URLSearchParams(e.location.search),a={},r=Object(s.a)(n.entries());try{for(r.s();!(t=r.n()).done;){var l=t.value;a[l[0]]=Number.parseInt(l[1])}}catch(m){r.e(m)}finally{r.f()}var i=a.width,o=a.height,u=a.mines;return isNaN(i)||isNaN(o)||isNaN(u)?null:40<i||i<4||30<o||o<4||Math.floor(i*o-9)<u||u<0||i<o?(alert("Entradas inv\xe1lidas."),null):(o<10?document.documentElement.setAttribute("data-scale","1.x"):document.documentElement.removeAttribute("data-scale"),b(a),void c(Array(a.width*a.height).fill()))}),[]);var B=function(){M(setTimeout(A(S),1e3))},A=function e(t){return function(){M(setTimeout(e(++t),1e3)),P(t)}};if(!E)return r.a.createElement(o.a,{to:"/react-minesweeper/custom"});var T=function(e,t){for(var n=[],a=Math.floor(e/E.width),r=-1;r<=1;r++){var l=e+r;if(a===Math.floor(l/E.width))for(var c=-1;c<=1;c++){var i=l+c*E.width;i>=0&&i<t&&n.push(i)}}return n},I=function(e){return function(){if(O!==F&&O!==U){if(0===O){var t=Array(E.width*E.height).fill(),n=t.map((function(e,t){return t}));j(H),T(e,n.length).forEach((function(e){n.splice(n.indexOf(e),1)}));for(var a=[],r=0;r<E.mines;r++){var i=Math.floor(Math.random()*n.length),o=n[i];n.splice(i,1),a.push(o)}return t=t.map((function(e,n){return a.includes(n)?{isPressed:!1,isBomb:!0,value:null}:{isPressed:!1,isBomb:!1,value:T(n,t.length).filter((function(e){return a.includes(e)})).length}})),t=J(e,t),c(t),void B()}l[e].isBomb&&(j(F),clearTimeout(k));var u=J(e,l.map((function(e){return e})));c(u),u.filter((function(e){return e.isPressed&&!e.isBomb})).length===E.width*E.height-E.mines&&(j(U),alert("You win! Total time: "+z(S)))}}},J=function e(t,n){var a=n[t];return n[t]=Object(u.a)(Object(u.a)({},a),{},{isPressed:!0}),0===a.value&&T(t,n.length).forEach((function(a){var r=n[a];a===t||r.isPressed||(n[a]=Object(u.a)(Object(u.a)({},r),{},{isPressed:!0}),0===r.value&&(n=e(a,n)))})),n};var q=function(e){d((function(t){return t+e}))},z=function(e){var t=e%60,n=(e=(e-t)/60)%60,a=(e-n)/60;return(a>0?a.toString().padStart(2,0)+":":"")+n.toString().padStart(2,0)+":"+t.toString().padStart(2,0)},W={flexBasis:"".concat(100/E.width,"%"),width:(window.innerHeight-40)/E.height,height:(window.innerHeight-40)/E.height};return r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:O===D?"game paused":"game",style:{maxWidth:W.height*E.width}},l.map((function(e,t){return r.a.createElement(Z,Object.assign({index:t,style:W,onClick:I(t),isFlagLimit:E.mines===h,changeFlags:q,gameState:O},e))})),O===D&&r.a.createElement("span",{className:"paused-text"},"Pausado")),r.a.createElement("div",{className:"game-menu"},r.a.createElement("div",{className:"game-menu-item-container"},r.a.createElement("div",{className:"game-menu-item"},r.a.createElement(y,{className:"menu-icon"}),r.a.createElement("p",null,"".concat(h,"/").concat(E.mines))),r.a.createElement("div",{className:"game-menu-item"},r.a.createElement(g,{className:"menu-icon"}),r.a.createElement("p",null,z(S)))),r.a.createElement("div",{className:"game-menu-button-container"},r.a.createElement("button",{disabled:0===O,onClick:function(){clearTimeout(k),c(Array(E.width*E.height).fill()),d(0),j(V),P(0),M(null)}},"Recome\xe7ar"),r.a.createElement("button",{onClick:function(){t.push("/react-minesweeper")}},"Alterar dificuldade"),r.a.createElement("button",{disabled:0===O,onClick:function(){j((function(e){return e===D?H:D})),O===H?clearTimeout(k):B()}},O!==H?"Continuar":"Pausar"))))},q=function(e){var t=e.width,n=e.height,a=e.mines,l=e.custom,c=Object(o.g)();return l?r.a.createElement("button",{className:"menu-button",onClick:function(){c.push("/react-minesweeper/custom")}},r.a.createElement("p",null,r.a.createElement("strong",null,"?")),r.a.createElement("p",{className:"label"},"Personalizado")):r.a.createElement("button",{className:"menu-button",onClick:function(){c.push("/react-minesweeper/play?width=".concat(t,"&height=").concat(n,"&mines=").concat(a))}},r.a.createElement("p",null,r.a.createElement("strong",null,t," \xd7 ",n)),r.a.createElement("p",{className:"label"},r.a.createElement("strong",null,a)," minas"))};q.defaultProps={custom:!1};var z=function(e){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-button-row"},r.a.createElement(q,{width:8,height:8,mines:10}),r.a.createElement(q,{width:16,height:16,mines:40})),r.a.createElement("div",{className:"menu-button-row"},r.a.createElement(q,{width:30,height:16,mines:99}),r.a.createElement(q,{width:16,height:16,custom:!0})))},W=n(11),Y=function(e){var t=e.onChange,n=e.value,a=r.a.useState(),l=Object(m.a)(a,2),c=l[0],i=l[1],o=function(){clearTimeout(c),i(null)};return r.a.createElement("div",{className:"number-input"},r.a.createElement("input",{className:"number-input input",onChange:function(e){var n=e.target;n&&t(n.value)},value:n}),r.a.createElement("button",{className:"number-input btn",onMouseDown:function e(a){return function(){n<5?o():(t(--n),i(setTimeout(e(!0),a?90:400)))}}(!1),onMouseUp:o},"-"),r.a.createElement("button",{className:"number-input btn",onMouseDown:function e(a){return function(){n>39?o():(t(++n),i(setTimeout(e(!0),a?90:400)))}}(!1),onMouseUp:o},"+"))},G=function(e){var t=r.a.useState({width:8,height:8,percent:25}),n=Object(m.a)(t,2),a=n[0],l=n[1],c=Object(o.g)(),i=function(e){return Math.floor(e/100*a.height*a.width)},s=function(e){return function(t){l((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(W.a)({},e,"bombs"!==e?t:i(t)))}))}};return r.a.createElement("div",{className:"menu-custom-game"},r.a.createElement("div",{className:"menu-custom-game-item-container"},r.a.createElement("div",{className:"menu-custom-game-item"},r.a.createElement("span",null,"Largura"),r.a.createElement(Y,{onChange:s("width"),value:a.width})),r.a.createElement("div",{className:"menu-custom-game-item"},r.a.createElement("span",null,"Altura"),r.a.createElement(Y,{onChange:s("height"),value:a.height})),r.a.createElement("div",{className:"menu-custom-game-item"},r.a.createElement("span",null,"Porcentagem de minas"),r.a.createElement(Y,{onChange:s("percent"),value:a.percent}))),r.a.createElement("div",{className:"menu-custom-game-item-container"},r.a.createElement("button",{onClick:function(){a.height>a.width?alert("A altura do tabuleiro n\xe3o deve ser menor que sua largura"):c.push("/react-minesweeper/play?width=".concat(a.width,"&height=").concat(a.height,"&mines=").concat(i(a.percent)))}},"Iniciar jogo"),r.a.createElement("button",{onClick:function(){c.goBack()}},"Cancelar")))},K=function(){return r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/react-minesweeper",component:z}),r.a.createElement(o.b,{exact:!0,path:"/react-minesweeper/play",component:J}),r.a.createElement(o.b,{exact:!0,path:"/react-minesweeper/custom",component:G}),r.a.createElement(o.a,{to:"/react-minesweeper"})))};var Q=function(){return r.a.createElement(K,null)};document.addEventListener("contextmenu",(function(e){return e.preventDefault()})),c.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.1b34fbd0.chunk.js.map